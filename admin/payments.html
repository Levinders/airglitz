<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>HomeGlitz — Payments</title>
<link rel="icon" href="https://raw.githubusercontent.com/Levinders/homeglitz/refs/heads/main/64%C3%9764pxlogo.png" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --primary:#0F72B4; --primary-light:#f5faff; --panel:#fff; --muted:#6c757d;
    --border:#e4e9ef; --radius:12px; --shadow:0 6px 20px rgba(15,114,180,0.08);
  }
  *{box-sizing:border-box;font-family:'Montserrat',sans-serif}
  html,body{height:100%;margin:0;background:var(--primary-light);color:#222}

  /* ==========================
     SIDEBAR (INSERTED BLOCK)
     ========================== */
  .sidebar {
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: 250px;
    background: var(--panel);
    border-right: 1px solid var(--border);
    box-shadow: var(--shadow);
    display: flex;
    flex-direction: column;
    padding: 20px 0;
    overflow-y: auto;
    z-index: 2000;
  }

  .sidebar .brand {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 30px;
  }

  .sidebar .brand img {
    height: 48px;
  }

  .nav-links {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .nav-item {
    position: relative;
  }

  .nav-links li a {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 22px;
    color: var(--muted);
    font-weight: 500;
    text-decoration: none;
    transition: all 0.3s ease;
  }

  .nav-links li a:hover,
  .nav-links li a.active {
    background: var(--primary-light);
    color: var(--primary);
    border-left: 4px solid var(--primary);
  }

  .sub-menu {
    display: none;
    flex-direction: column;
    margin-left: 40px;
    font-size: 12px;
  }

  .nav-item.open .sub-menu {
    display: flex;
  }

  @media (max-width: 768px) {
    .sidebar {
      left: -250px;
      position: fixed;
    }
    .sidebar.open {
      left: 0;
    }
  }

  /* ==========================
     PAGE LAYOUT (UNCHANGED)
     ========================== */
  .topbar{position:fixed;left:250px;right:0;top:0;height:60px;background:var(--panel);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 24px;z-index:1500;box-shadow:var(--shadow)}
  .topbar .brandline{display:flex;align-items:center;gap:12px}
  main{margin-left:250px;padding:100px 28px 40px}
  .card{background:var(--panel);border-radius:var(--radius);padding:26px;border:1px solid var(--border);box-shadow:var(--shadow)}
  .card__title{font-size:20px;color:var(--primary);font-weight:700;display:flex;align-items:center;gap:12px;border-bottom:2px solid rgba(15,114,180,0.06);padding-bottom:12px;margin-bottom:18px}
  .controls{position:sticky;top:74px;z-index:1400;background:transparent;padding-bottom:12px}
  .controls-inner{display:flex;align-items:center;gap:12px;justify-content:space-between;margin-bottom:12px}
  .left-controls{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .right-controls{display:flex;gap:12px;align-items:center}
  .filters input,.filters select{padding:8px 10px;border-radius:8px;border:1px solid var(--border);font-size:14px}
  .btn{border:none;border-radius:8px;padding:8px 12px;font-weight:700;cursor:pointer}
  .btn.primary{background:var(--primary);color:#fff}
  .btn.ghost{background:#fff;border:1px solid var(--border);color:var(--muted)}
  .summary{display:flex;gap:10px;align-items:center}
  .chip{background:#f8fbff;padding:6px 10px;border-radius:999px;border:1px solid var(--border);font-weight:700;color:var(--primary)}
  .table-wrap{overflow:auto;border-radius:10px;border:1px solid var(--border);background:#fff}
  table{width:100%;border-collapse:collapse;min-width:900px}
  th,td{padding:12px 14px;border-bottom:1px solid #f1f5f9;font-size:14px;text-align:left}
  thead th{background:#f9fbfd;color:var(--primary);font-weight:700}
  tr:hover td{background:#fbfdff}
  .status-badge{padding:6px 10px;border-radius:999px;font-weight:700;font-size:13px}
  .s-pending{background:#fff7ed;border:1px solid #ffe7c7;color:#b45309}
  .s-approved{background:#eef2ff;border:1px solid #e0d7ff;color:var(--primary)}
  .s-paid{background:#eef9f1;border:1px solid #c7f0d2;color:#16a34a}
  .drawer{position:fixed;right:20px;bottom:20px;width:520px;max-width:96%;background:var(--panel);border-radius:14px;border:1px solid var(--border);box-shadow:0 18px 50px rgba(10,30,70,0.08);display:none;flex-direction:column;z-index:6000}
  .drawer.active{display:flex}
  .drawer .head{padding:16px;border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between}
  .drawer .body{padding:16px;overflow:auto;max-height:70vh}
  .inline-msg{min-height:20px;color:#c0392b;font-size:13px;margin-top:8px}


  .topbar {
  height: 60px;
  background: var(--panel);
  border-bottom: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 25px;
  box-shadow: var(--shadow);
  position: fixed;
  top: 0;
  left: 250px;
  right: 0;
  z-index: 1000;
}

.topbar-right {
  display: flex;
  align-items: center;
  gap: 20px;
  color: var(--muted);
}

.menu-toggle {
  background: none;
  border: none;
  font-size: 20px;
  color: var(--primary);
  cursor: pointer;
}

</style>
</head>

<body>

  <!-- ==========================
       SIDEBAR A (INSERTED)
       ========================== -->
  <aside class="sidebar" id="sidebar">
    <div class="brand">
      <img src="https://raw.githubusercontent.com/Levinders/homeglitz/refs/heads/main/mainlogog-removebg-preview.png">
    </div>

    <ul class="nav-links">
      <li><a href="/homeglitz/others/admin-404-page.html"><i class="fa-solid fa-chart-line"></i> Overview</a></li>

      <li class="nav-item">
        <a href="#" id="bookingMenu">
          <i class="fa-solid fa-broom"></i> Bookings
          <i class="fa-solid fa-chevron-down" style="margin-left:auto;"></i>
        </a>
        <div class="sub-menu">
          <a href="booking.html">Create New</a>
          <a href="all-bookings.html">All Bookings</a>
        </div>
      </li>

      <li><a href="/homeglitz/admin/payments.html" class="active"><i class="fa-solid fa-wallet"></i> Payments</a></li>
      <li><a href="/homeglitz/others/admin-404-page.html"><i class="fa-solid fa-house-user"></i> Properties</a></li>
      <li><a href="/homeglitz/admin/cleaners.html"><i class="fa-solid fa-users"></i> Cleaners</a></li>
      <li><a href="/homeglitz/others/admin-404-page.html"><i class="fa-solid fa-chart-pie"></i> Reports</a></li>
      <li><a href="/homeglitz/others/admin-404-page.html"><i class="fa-solid fa-gear"></i> Settings</a></li>
    </ul>
  </aside>

  <!-- ========== topbar (unchanged) ========== -->
  <header class="topbar">
    <div class="brandline">
    </div>
    <div style="display:flex;gap:12px;align-items:center;color:var(--muted)">
      <div class="topbar-right"><i class="fa-regular fa-bell"></i><i class="fa-regular fa-user"></i></div>
    </div>
  </header>

  <!-- ========== main content (unchanged) ========== -->
  <main>
    <div class="card">
      <div class="card__title"><i class="fa-solid fa-wallet"></i> Payment Requests</div>

      <!-- fixed controls -->
      <div class="controls">
        <div class="controls-inner">
          <div class="left-controls">
            <div style="display:flex;align-items:center;gap:14px">
              <div class="summary">
                <div class="chip" id="totalPending">Pending: 0</div>
                <div class="chip" id="totalApproved">Approved: 0</div>
                <div class="chip" id="totalPaid">Paid: 0</div>
              </div>
            </div>

            <div class="filters" style="margin-left:12px;display:flex;gap:8px;align-items:center">
              <input id="search" placeholder="Search request, booking, cleaner..." />
              <select id="filterStatus">
                <option value="all">All statuses</option>
                <option value="Pending">Pending</option>
                <option value="Approved">Approved</option>
                <option value="Paid">Paid</option>
              </select>
            </div>
          </div>

          <div class="right-controls">
            <button class="btn ghost" id="btnRefresh"><i class="fa-solid fa-arrows-rotate"></i> Refresh</button>
            <button class="btn primary" id="btnCreateInvoice" disabled><i class="fa-solid fa-file-invoice-dollar"></i> New (disabled)</button>
          </div>
        </div>
      </div>

      <div class="table-wrap" id="tableWrap">
        <table id="requestsTable" aria-live="polite">
          <thead>
            <tr>
              <th>Request</th>
              <th>Booking</th>
              <th>Cleaner</th>
              <th>Amount (Ex GST)</th>
              <th>Requested At</th>
              <th>Status</th>
              <th>Actions</th>
            </tr>
          </thead>

          <tbody><tr><td colspan="7" style="text-align:center;color:var(--muted);padding:36px">Loading…</td></tr></tbody>
        </table>
      </div>

      <div class="inline-msg" id="pageMsg"></div>
    </div>
  </main>

  <!-- drawer (unchanged) -->
  <div class="drawer" id="drawer" role="dialog" aria-modal="true" aria-hidden="true">
    … (unchanged drawer HTML)
  </div>

  <!-- ==========================
       SIDEBAR JS (inserted)
       ========================== -->
  <script>
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay'); // If you want overlay, keep; if not present, harmless
    const menuToggle = document.getElementById('menuToggle'); // If topbar toggle exists elsewhere
    const bookingMenu = document.getElementById('bookingMenu');
    const bookingItem = bookingMenu?.parentElement;

    // submenu toggle
    if (bookingMenu) {
      bookingMenu.onclick = (e) => {
        e.preventDefault();
        bookingItem.classList.toggle('open');
      };
    }

    // mobile toggle support if toggle button exists
    if (menuToggle) {
      menuToggle.onclick = () => {
        sidebar.classList.toggle('open');
        overlay?.classList.toggle('active');
      };
    }
  </script>

  <!-- ========== existing payments JS (unchanged) ========== -->
  <script>
    /* your entire payments JS untouched */
    … (all your JS exactly as provided)
  </script>

</body>
</html>
